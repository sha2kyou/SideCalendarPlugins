## Bilibili 用户视频插件

获取指定 B 站 UP 主的当日视频投稿，在时间线上显示视频信息。

### 功能特性

- 支持多 UP 主（最多 10 个）
- 只显示当天发布的视频
- 10 分钟查询间隔，24 小时缓存
- 按日期缓存，每天自动刷新
- 播放量自动格式化（万/亿）
- 点击跳转到视频页面
- 显示视频封面图片

### 配置参数

#### 必需参数

| 参数名 | 类型   | 说明                                          | 示例           |
| ------ | ------ | --------------------------------------------- | -------------- |
| mids   | string | B 站用户 ID，多个用英文逗号分隔（最多 10 个） | 2826561,123456 |

#### 可选参数

| 参数名   | 类型   | 默认值 | 说明                   |
| -------- | ------ | ------ | ---------------------- |
| pageSize | number | 10     | 每次获取的视频数量 |

### 如何获取用户 ID

1. 访问 UP 主的个人主页
2. URL 格式：https://space.bilibili.com/2826561/
3. 数字部分即为用户 ID：2826561

### 工作原理

插件采用轮询机制查询多个 UP 主：

- 每 10 分钟轮询查询 1 个 UP 主
- 查询到的数据缓存 24 小时
- 只保存和显示当天发布的视频
- 每天 00:00 后自动刷新缓存

例如配置 10 个 UP 主：
- 00:00 查询 UP 主 1
- 00:10 查询 UP 主 2
- 00:20 查询 UP 主 3
- 以此类推，1 小时 40 分钟完成一轮

### 限流保护

- 10 分钟查询间隔，避免频繁请求
- 每次只查 1 个 UP 主
- 遇到风控错误（-799）自动重试

### 更新日志

#### v0.2.0

- 新增：支持多 UP 主（最多 10 个，使用 mids 参数）
- 新增：只显示当天视频，自动过滤历史数据
- 新增：按日期缓存，每天自动刷新
- 新增：10 分钟轮询间隔，24 小时缓存
- 新增：轮询机制，每次查询 1 个 UP 主
- 优化：限流保护，防止触发 B 站风控
- 优化：播放量自动格式化（万/亿）
- 优化：自动去重，避免重复配置
- 优化：数据永久可见，无过期时间

#### v0.1.18

- 添加视频封面图片预览功能

#### v0.1.3

- 支持多 mid

#### v0.1.0

- 初始版本发布

### 常见问题

Q: 为什么看不到视频？

A: 可能原因：
- UP 主今天还没有发布视频
- 缓存尚未刷新（等待下次轮询）
- UP 主 ID 配置错误

Q: 可以看到昨天的视频吗？

A: 不可以，插件只显示当天发布的视频。每天 00:00 后会自动刷新。

Q: 配置 10 个以上的 UP 主会怎样？

A: 插件会自动取前 10 个，忽略后面的。
